<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #0d1117;
      --surface: #161b22;
      --border: #30363d;
      --text: #e6edf3;
      --muted: #8b949e;
      --aws: #FF9900;
      --azure: #0078D4;
      --gcp: #4285F4;
      --green: #3fb950;
      --red: #f85149;
      --yellow: #d29922;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      width: 360px;
      font-family: 'Inter', sans-serif;
      background: var(--bg);
      color: var(--text);
      padding: 0;
    }

    /* Header */
    .header {
      background: var(--surface);
      border-bottom: 1px solid var(--border);
      padding: 12px 16px;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .header-logo {
      font-size: 14px;
      font-weight: 700;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .header-sync {
      font-size: 11px;
      color: var(--muted);
    }

    /* Body */
    .body {
      padding: 14px;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    /* Hero */
    .hero {
      background: linear-gradient(135deg, #1c2128, #21262d);
      border: 1px solid var(--border);
      border-radius: 10px;
      padding: 16px;
      text-align: center;
    }

    .hero-label {
      font-size: 11px;
      color: var(--muted);
      text-transform: uppercase;
      letter-spacing: 0.06em;
      margin-bottom: 6px;
    }

    .hero-value {
      font-size: 34px;
      font-weight: 700;
      color: var(--text);
      line-height: 1;
    }

    .hero-sub {
      font-size: 12px;
      color: var(--muted);
      margin-top: 6px;
    }

    .hero-sub span {
      color: #bc8cff;
      font-weight: 600;
    }

    /* KPI Row */
    .kpi-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 8px;
    }

    .kpi-mini {
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 10px 12px;
    }

    .kpi-mini-label {
      font-size: 10px;
      color: var(--muted);
      text-transform: uppercase;
      letter-spacing: 0.05em;
    }

    .kpi-mini-value {
      font-size: 16px;
      font-weight: 700;
      margin-top: 2px;
    }

    /* Chart */
    .chart-card {
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 10px;
      padding: 14px;
    }

    .chart-card h4 {
      font-size: 11px;
      color: var(--muted);
      text-transform: uppercase;
      letter-spacing: 0.05em;
      margin-bottom: 10px;
    }

    .chart-wrap {
      position: relative;
      height: 160px;
    }

    /* Provider Pills */
    .provider-row {
      display: flex;
      gap: 6px;
    }

    .provider-pill {
      flex: 1;
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 8px 10px;
      font-size: 11px;
    }

    .provider-pill .p-name {
      color: var(--muted);
      margin-bottom: 2px;
      display: flex;
      align-items: center;
      gap: 4px;
    }

    .provider-pill .p-val {
      font-size: 14px;
      font-weight: 700;
    }

    .dot {
      width: 7px;
      height: 7px;
      border-radius: 50%;
      display: inline-block;
    }

    /* Alert Banner */
    .alert-banner {
      border-radius: 8px;
      padding: 10px 12px;
      font-size: 12px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .alert-banner.warn {
      background: rgba(210, 153, 34, 0.12);
      border: 1px solid rgba(210, 153, 34, 0.3);
    }

    .alert-banner.danger {
      background: rgba(248, 81, 73, 0.12);
      border: 1px solid rgba(248, 81, 73, 0.3);
    }

    .alert-banner.ok {
      background: rgba(63, 185, 80, 0.12);
      border: 1px solid rgba(63, 185, 80, 0.3);
      color: var(--green);
    }

    /* Footer */
    .footer {
      display: flex;
      gap: 6px;
      padding: 0 0 2px;
    }

    .btn {
      flex: 1;
      padding: 9px;
      border-radius: 7px;
      font-size: 12px;
      font-weight: 600;
      cursor: pointer;
      border: none;
      transition: opacity 0.15s;
    }

    .btn:hover {
      opacity: 0.85;
    }

    .btn-primary {
      background: #238636;
      color: #fff;
    }

    .btn-secondary {
      background: var(--surface);
      border: 1px solid var(--border);
      color: var(--text);
    }
  </style>
</head>

<body>

  <div class="header">
    <div class="header-logo">‚òÅÔ∏è CloudSight</div>
    <div class="header-sync" id="sync-time">‚Äì</div>
  </div>

  <div class="body">

    <!-- Alert Banner -->
    <div class="alert-banner ok" id="alert-banner">
      <span>‚úÖ</span><span id="alert-text">All systems normal</span>
    </div>

    <!-- Hero -->
    <div class="hero">
      <div class="hero-label">Total Spend (MTD)</div>
      <div class="hero-value" id="total-cost">Loading‚Ä¶</div>
      <div class="hero-sub">Forecast: <span id="forecast-cost">‚Äì</span></div>
    </div>

    <!-- KPI Row -->
    <div class="kpi-row">
      <div class="kpi-mini">
        <div class="kpi-mini-label">Budget Used</div>
        <div class="kpi-mini-value" id="budget-pct" style="color:var(--green)">‚Äì</div>
      </div>
      <div class="kpi-mini">
        <div class="kpi-mini-label">Active Alerts</div>
        <div class="kpi-mini-value" id="alert-count" style="color:var(--yellow)">0</div>
      </div>
    </div>

    <!-- Provider Pills -->
    <div class="provider-row">
      <div class="provider-pill">
        <div class="p-name"><span class="dot" style="background:var(--aws)"></span> AWS</div>
        <div class="p-val" id="aws-cost">‚Äì</div>
      </div>
      <div class="provider-pill">
        <div class="p-name"><span class="dot" style="background:var(--azure)"></span> Azure</div>
        <div class="p-val" id="azure-cost">‚Äì</div>
      </div>
      <div class="provider-pill">
        <div class="p-name"><span class="dot" style="background:var(--gcp)"></span> GCP</div>
        <div class="p-val" id="gcp-cost">‚Äì</div>
      </div>
    </div>

    <!-- Chart -->
    <div class="chart-card">
      <h4>Spend by Provider</h4>
      <div class="chart-wrap">
        <canvas id="serviceChart"></canvas>
      </div>
    </div>

    <!-- Footer Buttons -->
    <div class="footer">
      <button class="btn btn-primary" id="open-dashboard">üìä Full Dashboard</button>
      <button class="btn btn-secondary" id="open-options">‚öô Settings</button>
    </div>

  </div>

  <script src="popup.js"></script>
</body>

</html>